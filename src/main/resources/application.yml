spring:
  r2dbc:
    url: r2dbc:postgresql://localhost:5432/nexosalud
    username: postgres
    password: postgres
  application:
    name: gateway-service
  sql:
    init:
      mode: always
      schema-locations: classpath:schema.sql
  webflux:
    base-path: /api/v1
    cors:
      allowed-origins:
        - "http://localhost:*"
        - "https://localhost:*"
        - "http://local.nexosalud:*"
        - "https://local.nexosalud:*"
        - "http://127.0.0.1:*"
        - "https://127.0.0.1:*"
      allowed-methods:
        - GET
        - POST
        - PUT
        - DELETE
        - PATCH
        - OPTIONS
      allowed-headers:
        - "*"
      allow-credentials: true
      max-age: 3600
logging:
  level:
    org.springframework.data.r2dbc: Debug

# JWT Configuration
jwt:
  secret: ${JWT_SECRET:mySecretKeyForJWTTokenGenerationAndValidation1234567890}
  expiration: ${JWT_EXPIRATION:3600000}

# Authentication Configuration
auth:
  mock-mode: ${AUTH_MOCK_MODE:true}

server:
  port: 8080

---
spring:
  config:
    activate:
      on-profile: test
  r2dbc:
    url: r2dbc:postgresql://localhost:5432/nexosalud
    username: postgres
    password: postgres
  application:
    name: gateway-service

jwt:
  secret: test-secret-key-for-testing-purposes-only-12345678
  expiration: 3600000

# Authentication Configuration
auth:
  mock-mode: true

server:
  port: 8080

---
spring:
  config:
    activate:
      on-profile: prod
  r2dbc:
    url: r2dbc:postgresql://localhost:5432/nexosalud
    username: postgres
    password: postgres
  application:
    name: gateway-service
  logging:
    level:
      org.springframework.data.r2dbc: Debug

jwt:
  secret: ${JWT_SECRET:your-secret-key-here}
  expiration: ${JWT_EXPIRATION:3600000}

# Authentication Configuration
auth:
  mock-mode: ${AUTH_MOCK_MODE:false}

server:
  port: 8080

